---
import { getEntry } from "astro:content";
import { LOGO_URL_DARK } from "../consts";
import ScreenWidth from "./elements/ScreenWidth.vue";

const email = await getEntry("contacts", "email");

if (email == undefined) {
    throw new Error("email not provided");
}

console.log(email.data.href);

const danSite = await getEntry("contacts", "design-and-narrative");

if (danSite == undefined) {
    throw new Error("danSite not provided");
}

const github = await getEntry("contacts", "github");
if (github == undefined) {
    throw new Error("gitHub not provided");
}
---

<footer class="bg-gray-800 text-gray-50">
    <ScreenWidth>
        <div
            class="flex flex-col pb-[80px] pt-[64px] md:flex-row md:justify-between"
        >
            <div
                class="flex flex-col items-center justify-center gap-2 md:items-start"
            >
                <a href="/" class="flex justify-center">
                    <img src={LOGO_URL_DARK} alt="Sharrow Vale Logo" />
                </a>

                <div>
                    <p class="text-center text-base font-light md:text-start">
                        All rights reserved
                    </p>
                    <p class="text-center text-base font-light md:text-start">
                        <a class="hover:text-coral" href={`${email.data.href}`}>
                            {email.data.value}
                        </a>
                    </p>
                </div>
            </div>
            <div
                class="flex flex-col items-center gap-2 text-center md:items-end"
            >
                <div class="flex flex-wrap justify-center gap-4 py-8 md:py-3">
                    <a class="text-base hover:text-coral" href="/"> HOME </a>
                    <a
                        class="text-base hover:text-coral"
                        href="/categories/events"
                    >
                        EVENTS
                    </a>
                    <a class="text-base hover:text-coral" href="/articles">
                        BLOG
                    </a>
                    <a
                        class="text-base hover:text-coral"
                        href="/categories/directory"
                    >
                        DIRECTORY
                    </a>
                    <a class="text-base hover:text-coral" href="/about">JOIN</a>
                </div>

                <div
                    class="flex flex-col items-center gap-4 md:items-end md:gap-0"
                >
                    <p class="text-base font-light">
                        Like this site? <a
                            class="underline underline-offset-2 hover:text-coral"
                            href={`${danSite.data.href}`}
                            >{danSite.data.description}</a
                        >
                    </p>
                    <p class="text-base font-light">
                        <span class="hidden md:inline">
                            Have something to contribute? <a
                                class="underline underline-offset-2 hover:text-coral"
                                href={`${github.data.href}`}
                                >{github.data.description}</a
                            >
                        </span>
                        <span class="inline md:hidden">
                            Contribute on <a
                                class="underline underline-offset-2 hover:text-coral"
                                href={`${github.data.href}`}>GitHub</a
                            >
                        </span>
                    </p>
                </div>
            </div>
        </div>
    </ScreenWidth>
</footer>
